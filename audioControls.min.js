(()=>{'use strict';const audioElements=document.querySelectorAll('audio');if(!!audioElements.length){let currentTime,duration,volume,playbackRate,keyCode,keyData,audio=audioElements[0]?audioElements[0]:void 0;for(let audioElement of audioElements)['focus','play','pause','seeking','seeked','volumechange'].forEach(event=>{audioElement.addEventListener(event,()=>{audio=audioElement})});const keys={32:new function(physicalKey,action){this.physicalKey=physicalKey,this.action=action}('spacebar','play-pause'),75:{physicalKey:'k',action:'play-pause'},37:{physicalKey:'\u25C0',action:'rewind-5'},39:{physicalKey:'\u25B6',action:'forward-5'},74:{physicalKey:'j',action:'rewind-10'},76:{physicalKey:'l',action:'forward-10'},34:{physicalKey:'pagedown',action:'rewind-30'},33:{physicalKey:'pageup',action:'forward-30'},38:{physicalKey:'\u25B2',action:'volume-up'},40:{physicalKey:'\u25BC',action:'volume-down'},77:{physicalKey:'m',action:'mute-unmute'},68:{physicalKey:'d',action:'speed-up'},187:{physicalKey:'=',action:'speed-up'},65:{physicalKey:'a',action:'speed-down'},189:{physicalKey:'-',action:'speed-down'},83:{physicalKey:'s',action:'speed-default'},36:{physicalKey:'home',action:'start'},35:{physicalKey:'end',action:'end'}},numberKeys=Array(10).fill().map((_,index)=>48+index);for(let numberKey in numberKeys)keys[numberKeys[numberKey]]={physicalKey:`${numberKey}`,action:'seek'};const numpadKeys=Array(10).fill().map((_,index)=>96+index);for(let numpadKey in numpadKeys)keys[numpadKeys[numpadKey]]={physicalKey:`${numpadKey}`,action:'seek'};const actions={"play-pause":()=>{audio.paused?audio.play():audio.pause()},"rewind-5":()=>{audio.currentTime=5>currentTime?0:currentTime-5},"forward-5":()=>{audio.currentTime=5>duration-currentTime?duration:currentTime+5},"rewind-10":()=>{audio.currentTime=10>currentTime?0:currentTime-10},"forward-10":()=>{audio.currentTime=10>duration-currentTime?duration:currentTime+10},"rewind-30":()=>{audio.currentTime=30>currentTime?0:currentTime-30},"forward-30":()=>{audio.currentTime=30>duration-currentTime?duration:currentTime+30},"volume-down":()=>{audio.volume=.05>=volume?0:+(volume-.05).toFixed(2)},"volume-up":()=>{audio.volume=.95<=volume?1:+(volume+.05).toFixed(2)},"mute-unmute":()=>{audio.muted=!audio.muted},"speed-down":()=>{audio.playbackRate=.25==playbackRate?.25:playbackRate-.25},"speed-up":()=>{audio.playbackRate=2==playbackRate?2:playbackRate+.25},"speed-default":()=>{audio.playbackRate=1},start:()=>{audio.currentTime=0},end:()=>{audio.currentTime=duration},seek:key=>{audio.currentTime=parseInt(key)/10*duration}};window.addEventListener('keydown',event=>{keyCode=event.keyCode?event.keyCode:event.which,currentTime=audio.currentTime,duration=audio.duration,volume=audio.volume,playbackRate=audio.playbackRate,keyData=Object.keys(keys).filter(key=>key==keyCode).reduce((_,key)=>keys[key],void 0),keyData!==void 0&&(event.stopPropagation(),event.preventDefault(),actions[keyData.action](keyData.physicalKey))})}})();