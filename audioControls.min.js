(()=>{'use strict';const audioElements=document.querySelectorAll('audio');if(!!audioElements.length){function keyMap(physicalKey,action){this.physicalKey=physicalKey,this.action=action}let currentTime,duration,volume,playbackRate,keyCode,keyData,audio=audioElements[0]?audioElements[0]:void 0;for(let audioElement of audioElements)['focus','play','pause','seeking','seeked','volumechange'].forEach(event=>{audioElement.addEventListener(event,()=>{audio=audioElement})});const keys={32:new keyMap('spacebar','play-pause'),75:new keyMap('k','play-pause'),37:new keyMap('\u25C0','rewind-5'),39:new keyMap('\u25B6','forward-5'),74:new keyMap('j','rewind-10'),76:new keyMap('l','forward-10'),34:new keyMap('pagedown','rewind-30'),33:new keyMap('pageup','forward-30'),38:new keyMap('\u25B2','volume-up'),40:new keyMap('\u25BC','volume-down'),77:new keyMap('m','mute-unmute'),68:new keyMap('d','speed-up'),187:new keyMap('=','speed-up'),65:new keyMap('a','speed-down'),189:new keyMap('-','speed-down'),83:new keyMap('s','speed-default'),36:new keyMap('home','start'),35:new keyMap('end','end')},numberKeys=Array(10).fill().map((_,index)=>48+index);for(let numberKey in numberKeys)keys[numberKeys[numberKey]]=new keyMap(numberKey,'seek');const numpadKeys=Array(10).fill().map((_,index)=>96+index);for(let numpadKey in numpadKeys)keys[numpadKeys[numpadKey]]=new keyMap(numpadKey,'seek');const actions={"play-pause":()=>{audio.paused?audio.play():audio.pause()},"rewind-5":()=>{audio.currentTime=5>currentTime?0:currentTime-5},"forward-5":()=>{audio.currentTime=5>duration-currentTime?duration:currentTime+5},"rewind-10":()=>{audio.currentTime=10>currentTime?0:currentTime-10},"forward-10":()=>{audio.currentTime=10>duration-currentTime?duration:currentTime+10},"rewind-30":()=>{audio.currentTime=30>currentTime?0:currentTime-30},"forward-30":()=>{audio.currentTime=30>duration-currentTime?duration:currentTime+30},"volume-down":()=>{audio.volume=.05>=volume?0:+(volume-.05).toFixed(2)},"volume-up":()=>{audio.volume=.95<=volume?1:+(volume+.05).toFixed(2)},"mute-unmute":()=>{audio.muted=!audio.muted},"speed-down":()=>{audio.playbackRate=.25==playbackRate?.25:+(playbackRate-.25).toFixed(2)},"speed-up":()=>{audio.playbackRate=2==playbackRate?2:+(playbackRate+.25).toFixed(2)},"speed-default":()=>{audio.playbackRate=1},start:()=>{audio.currentTime=0},end:()=>{audio.currentTime=duration},seek:key=>{audio.currentTime=parseInt(key)/10*duration}};window.addEventListener('keydown',event=>{event.metaKey||event.ctrlKey||event.shiftKey||(keyCode=event.keyCode?event.keyCode:event.which,currentTime=audio.currentTime,duration=audio.duration,volume=audio.volume,playbackRate=audio.playbackRate,keyData=Object.keys(keys).filter(key=>key==keyCode).reduce((_,key)=>keys[key],void 0),keyData!==void 0&&(event.stopPropagation(),event.preventDefault(),actions[keyData.action](keyData.physicalKey)))})}})();